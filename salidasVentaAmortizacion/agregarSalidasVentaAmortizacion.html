

<section ng-controller="agregarSalidasVentaAmortizacionController" ng-cloak>
    <div class="panel panel-primary" id="panel-principal">
        <div class="panel-heading">
            <div align="center" class="panel-title">PAGO DE DEUDAS DE AMORTIZACION</div>
        </div>
        <div class="panel-body">
            
                <div align="center">
                    <div class="form-group">                        
                                    <div class="row">
                                        <div class="col-sm-3">
                                            <label>Nro Factura</label>
                                            <input ng-model="salidasVenta.nroFactura" class="form-control"  disabled="true" />
                                        </div>
                                        <div class="col-sm-3">
                                            <label>Cliente</label>
                                            <input ng-model="salidasVenta.clientes.nitCliente" class="form-control"  disabled="true" />
                                        </div>                            
                                        <div class="col-sm-3">
                                            <label>Nit</label>
                                            <input ng-model="salidasVenta.clientes.nombreCliente" class="form-control"  disabled="true" />
                                        </div>
                                        <div class="col-sm-3">
                                            <label>Fecha Venta</label>
                                            <input  data-ng-model="salidasVenta.fechaSalidaVenta" class="form-control"  disabled="true"/>
                                        </div>
                                    </div>
                                    <div class="row">                                        
                                        <div class="col-sm-3">
                                            <label>Fecha Final Pago a Credito</label>
                                            <input  data-ng-model="salidasVenta.fechaPagoCredito" class="form-control"  disabled="true" />
                                        </div>
                                        <div class="col-sm-3">
                                            <label>Monto Total c/desct</label>
                                            <input  data-ng-model="salidasVenta.montoTotal" class="form-control"  disabled="true" />
                                        </div>                                        
                                        
                                        <div class="col-sm-3">
                                            <label>Monto por Cobrar</label>
                                            <input  data-ng-model="salidasVenta.montoPorCobrar" class="form-control"  disabled="true" />
                                        </div>
                                    </div>
                                
                </div>
                </div>
            <section id="no-more-tables">
                            <div class="row">
                                        <div class="col-sm-4">
                                            
                                        </div>
                                        <div class="col-sm-4">
                                            <table class="table table-bordered table-hover cf table-striped" >
                        <thead class="cf">
                            <tr>
                                <th>FECHA</th>
                                <th>MONTO PAGADO (BS.)</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>                                
                                <td data-title="PAGO INICIAL">&nbsp;Pago Inicial</td>
                                <td data-title="MONTO PAGADO (BS.)">&nbsp;{{salidasVenta.montoCancelado}}</td>
                                <td data-title="">                                    
                                </td>
                            </tr>
                            <tr  ng-repeat="row in salidasVentaAmortizacionList">                                
                                <td data-title="FECHA">&nbsp;{{row.fechaPago}}</td>
                                <td data-title="MONTO PAGADO (BS.)">&nbsp;{{row.montoPagado}}</td>
                                <td data-title="">
                                    <div class="dropdown">
                                        <a class="btn btn-secondary dropdown-toggle" href="" id="dropdownMenuButton1" data-toggle="dropdown" data-aria-haspopup="true" data-aria-expanded="false">
                                            <i class="fa fa-ellipsis-v"></i>
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="dropdownMenuButton1">                                            
                                            <li>
                                                <a tabindex="-1"  ng-click="borrarAmortizacionDetalle_action(row);">
                                                    Eliminar
                                                </a>
                                            </li>
                                            <li>
                                                <a tabindex="-1"  ng-click="repAmortizacionDetalle_action(row);">
                                                    Comprobante
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>Total</th>
                                <th>{{montoTotalPagado}}</th>
                                <th></th>
                            </tr>                            
                        </tfoot>                        
                    </table>
                                        </div>
                                        <div class="col-sm-4">
                                            
                                        </div>                            
                                    </div>                
                    
                
            </section>

                
                    
            
        
        <div class="panel-footer" align="center">
            <button type="button" class="btn btn-primary" ng-click="agregarPagoAmortizacion_action();">
                <i class="fa fa-plus-circle"></i>
            </button>            
            <button type="button" class="btn btn-primary" ng-click="guardarPagoAmortizacion_action();" >
                <i class="fa fa-check">                    
                </i>
                Guardar
            </button>  
            <button type="button" class="btn btn-primary"  ng-click="cancelarPagoAmortizacion_action();" >
                    <i class="fa fa-times-circle"></i>
                Cancelar
            </button>
        </div>
    </div>
    </div>
    	<!-- ui-dialog -->
        <div id="agregarPagoAmortizacionDialog" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title"><i class="fa fa-check fa-1x"></i>Pago Amortizacion</h4>
                    </div>
                    <div class="modal-body">
                        <form>
                        <br/>
                        <div class="row show-grid">
                            
                            <div class="col-sm-6" id="fecha_pago">
                                <label>Fecha:</label>
                                <div class="input-group date">
                                    <input type="text" class="form-control" data-ng-model="salidasVentaAmortizacionAgr.fechaPago" id="fecha_vigente_desde" readonly="">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label>Monto Pagado:</label>
                                <input ng-model="salidasVentaAmortizacionAgr.montoPagado" type="number" class="form-control" >
                            </div>                            
                        </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" ng-click="guardarAgregarPagoAmortizacion_action();">
                            <i class="fa fa-check-circle"></i>
                            Aceptar    
                        </button>
                        
                        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="$('#agregarPagoAmortizacionDialog').modal('hide');">
                            <i class="fa fa-times-circle"></i>
                            Cancelar
                        </button>
                        
                    </div>
                </div>

            </div>
        </div>
        
        <!-- ui-dialog -->
        
        
    	<!-- ui-dialog editar -->
        <div id="editarDescuentoDialog" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title"><i class="fa fa-check fa-1x"></i>Establecer Descuento</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row show-grid">
                            <div class="col-md-6">
                                <label>Descuento:</label>
                                <select class="form-control" ng-model="codDescuento" ng-options="e.codItem as e.nombreItem for e in descuentosList"></select>
                                
                            </div>
                            <div class="col-md-6">
                                <label>% Descuento:</label>
                                <input class="form-control" ng-model="porcDescuento" type="number" />                                
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" ng-click="guardarEditarDescuento_action();">
                            <i class="fa fa-check-circle"></i>
                            Aceptar    
                        </button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="$('#editarDescuentoDialog').modal('hide');">
                            <i class="fa fa-times-circle"></i>
                            Cancelar
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        

      <!-- alerta -->
      
      <div id="mensajeDialog" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title"><i class="fa fa-warning fa-1x"></i> Mensaje</h4>
                </div>
                <div class="modal-body">
                    <i class="fa fa-warning fa-5x"></i>
                    {{mensaje}}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="$('#mensajeDialog').modal('hide');">Aceptar</button>
                </div>
            </div>

        </div>
    </div>
      <!--  -->
      
</section>